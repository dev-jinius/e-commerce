# e-commerce
e-커머스 상품 주문 서비스

## 핵심기능
- TDD
- Layered + Clean Architecture
- JPA
- 동시성 제어

--- 
## Progress
- ### [개발 환경](#environment)
- ### [요구 사항](#requirements)
- ### [시나리오 설계](#1-시나리오-설계)
    + #### [API Specs](#1-1-api-specs)
    + #### [시퀀스 다이어그램](#1-2-시퀀스-다이어그램-작성)
    + #### [ERD 설계](#1-3-erd-설계)
- ### [API 개발](#2-api-개발)
    + #### [Swagger 작성](#2-1-swagger-작성)
---


## Environment
- Framework/Language : `Spring Boot 3` `Java 17` `JPA` `gradle`
- ORM : `jpa`
- DB : `maria db`
- test : `JUnit` `AssertJ`
- IDE : `intellj`

---

## Requirements
- 아래 4가지 API 를 구현한다.
    - 잔액 충전 / 조회 API
    - 상품 조회 API
    - 주문 / 결제 API
    - 인기 판매 상품 조회 API
- 다수의 인스턴스로 어플리케이션이 동작하더라도 기능에 문제가 없도록 한다.
- 동시성 이슈를 고려하여 구현한다.


---


## 1. 시나리오 설계
### 1-1 API Specs

1️⃣ 잔액 충전 / 조회 API

- 결제에 사용될 금액을 충전하는 API 를 작성한다.
- 사용자 식별자 및 충전할 금액을 받아 잔액을 충전한다.
- 사용자 식별자를 통해 해당 사용자의 잔액을 조회한다.

2️⃣ 상품 조회 API

- 상품 정보 ( ID, 이름, 가격, 잔여수량 ) 을 조회하는 API 를 작성한다.

3️⃣ 주문 / 결제 API

- 사용자 식별자와 (상품 ID, 수량) 목록을 입력받아 주문하고 결제를 수행하는 API 를 작성한다.
- 결제는 기 충전된 잔액을 기반으로 수행하며 성공할 시 잔액을 차감한다.
- 데이터 분석을 위해 결제 성공 시에 실시간으로 주문 정보를 외부 어플리케이션에 전송한다.


4️⃣ 상위 상품 조회 API
- 최근 3일간 가장 많이 팔린 상위 5개 상품 정보를 제공하는 API

5️⃣ 장바구니 API

- 사용자는 구매 이전에 관심 있는 상품들을 장바구니에 적재할 수 있다.
- 이 기능을 제공하기 위해 `장바구니에 상품 추가/삭제` API 와 `장바구니 조회` API를 구현한다.

```
  💡 KEY POINT
```
- 동시에 여러 주문이 들어올 경우, 유저의 보유 잔고에 대한 처리가 정확해야 한다.
- 각 상품의 재고 관리가 정상적으로 이루어져 잘못된 주문이 발생하지 않도록 해야 한다.

### 1-2 시퀀스 다이어그램 작성
*  잔액 충전 / 조회 API</br>

* 상품 조회 API</br>

* 주문 / 결제 API</br>

* 상위 상품 조회 API</br>

* 장바구니에 상품 조회/추가/삭제 API (심화)


### 1-3 ERD 설계
* ERD 작성
  ![image](https://github.com/dev-jinius/e-commerce/assets/161837399/e372bc40-d22f-4b04-91d1-f185ff804673)


## 2. API 개발
### 2-1 Swagger 작성

